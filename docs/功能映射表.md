# 功能映射表

本文档旨在清晰地映射项目的功能模块、子功能/组件与其对应的源代码文件，以便于快速理解项目结构和定位代码。

| 功能模块 | 子功能/组件 | 相关文件 | 简要描述 |
| :--- | :--- | :--- | :--- |
| **核心应用** | 主应用实例 | [`src/App.vue`](src/App.vue) | Vue 应用的根组件，整合了所有视图和布局。 |
| | 应用入口 | [`src/main.js`](src/main.js) | 项目的入口文件，负责初始化 Vue 应用、挂载路由和状态管理。 |
| | 主面板 | [`src/panel.html`](src/panel.html) | 用户脚本注入的主 UI 面板 HTML 文件。 |
| **UI & 视图** | 主布局 | [`src/components/MainLayout.vue`](src/components/MainLayout.vue) | 应用的主布局，包含标签导航和视图容器。 |
| | 标签页导航 | [`src/components/TabNavigation.vue`](src/components/TabNavigation.vue) | 用于在不同功能视图（分类、结果、设置）之间切换的导航组件。 |
| | 视频分类视图 | [`src/components/ClassifyView.vue`](src/components/ClassifyView.vue) | 核心功能界面，用于对收藏夹视频进行分类操作。 |
| | 分类结果视图 | [`src/components/ResultsView.vue`](src/components/ResultsView.vue) | 展示视频分类操作结果的视图。 |
| | 设置视图 | [`src/components/SettingsView.vue`](src/components/SettingsView.vue) | 提供用户配置选项的界面。 |
| | 侧边栏按钮 | [`src/components/SideButton.vue`](src/components/SideButton.vue) | 悬浮在页面侧边的按钮，用于触发脚本主面板。 |
| | 视频页弹窗 | [`src/VideoPagePopup.vue`](src/VideoPagePopup.vue) | 在 Bilibili 视频播放页面显示的快捷操作弹窗。 |
| | 悬浮推荐 | [`src/components/FloatingRecommendation.vue`](src/components/FloatingRecommendation.vue) | AI 推荐的悬浮提示组件。 |
| | 日志面板 | [`src/components/LogPanel.vue`](src/components/LogPanel.vue) | 用于显示操作日志的组件。 |
| | 模态框容器 | [`src/components/ModalContainer.vue`](src/components/ModalContainer.vue) | 全局模态框的容器组件。 |
| | 批量移动列表 | [`src/components/TransferList.vue`](src/components/TransferList.vue) | 用于批量移动视频的列表组件。 |
| | 美化视图 | [`src/components/BeautifyView.vue`](src/components/BeautifyView.vue) | 提供 UI 美化相关的设置，如背景模糊度调节。 |
| | UI 管理器 | [`src/ui.js`](src/ui.js) | 负责动态注入和管理所有 Vue UI 组件到页面中。 |
| **业务逻辑服务** | 分类服务 | [`src/services/ClassificationService.js`](src/services/ClassificationService.js) | 封装了视频分类的核心业务逻辑。 |
| | 收藏夹服务 | [`src/services/FolderService.js`](src/services/FolderService.js) | 负责处理与 Bilibili 收藏夹相关的操作（如读取、创建、移动）。 |
| | 批量收藏夹创建器 | [`src/batch-creator.js`](src/batch-creator.js) | 提供一键创建推荐收藏夹的功能。 |
| | 设置服务 | [`src/services/SettingsService.js`](src/services/SettingsService.js) | 管理用户设置的读取和存储。 |
| | 服务入口 | [`src/services/index.js`](src/services/index.js) | 统一导出所有服务模块。 |
| **状态管理 (Store)** | 分类状态 (Pinia) | [`src/stores/classificationStore.js`](src/stores/classificationStore.js) | 管理分类过程中的状态，如视频列表、分类进度等。 |
| | 设置状态 (Pinia) | [`src/stores/settingsStore.js`](src/stores/settingsStore.js) | 存储和管理用户的配置选项。 |
| | UI 状态 (Pinia) | [`src/stores/uiStore.js`](src/stores/uiStore.js) | 管理界面相关的状态，如面板可见性、加载状态等。 |
| | 悬浮推荐状态 (Pinia) | [`src/stores/floatingRecommendationStore.js`](src/stores/floatingRecommendationStore.js) | 管理 AI 悬浮推荐组件的状态。 |
| | Store 入口 | [`src/stores/index.js`](src/stores/index.js) | 统一导出所有 Pinia store 模块。 |
| | 全局状态(旧) | [`src/store.js`](src/store.js) | 项目早期的全局状态管理对象，可能部分功能已被 Pinia 取代。 |
| **外部交互** | Bilibili API | [`src/api.js`](src/api.js) | 封装了所有与 Bilibili 后端 API 的交互请求。 |
| | AI 智能分类 | [`src/ai.js`](src/ai.js) | 集成了 AI 功能，可能用于智能推荐分类或标签。 |
| **通用工具** | 全局常量 | [`src/constants.js`](src/constants.js) | 定义项目中使用的常量。 |
| | 通用函数 | [`src/utils.js`](src/utils.js) | 提供可重用的工具函数。 |
| | 事件总线 | [`src/utils/eventBus.js`](src/utils/eventBus.js) | 用于组件间通信的事件中心。 |
| | 油猴脚本适配器 | [`src/utils/gmAdapter.js`](src/utils/gmAdapter.js) | 封装了油猴（Greasemonkey/Tampermonkey）的 API 调用。 |
| | 依赖注入 | [`src/utils/provideInject.js`](src/utils/provideInject.js) | 提供 Vue 的 provide/inject 封装，用于跨层级组件通信。 |
| **构建与测试** | Vite 配置 | [`vite.config.js`](vite.config.js) | 项目的 Vite 构建配置文件。 |
| | Babel 配置 | [`babel.config.js`](babel.config.js) | Babel 配置文件，用于 JavaScript 代码转换。 |
| | Jest 配置 | [`jest.config.js`](jest.config.js) | Jest 测试框架的配置文件。 |
| | API 测试 | [`src/api.test.js`](src/api.test.js) | `api.js` 的单元测试文件。 |
| | AI 测试 | [`src/ai.test.js`](src/ai.test.js) | `ai.js` 的单元测试文件。 |