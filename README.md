# Bilibili 收藏夹 AI 分类助手

[![Install](https://img.shields.io/badge/Install-Userscript-brightgreen?style=for-the-badge&logo=tampermonkey)](https://github.com/atri1011/bilibili-favorites-classifier-userscript/raw/main/dist/bilibili-favorites-classifier-userscript.user.js)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)

一个用户脚本，它利用AI（支持OpenAI GPT及智谱AI）来智能地、批量地整理Bilibili收藏夹。它不仅能在您的个人空间页批量处理成百上千的视频，还能在您浏览视频时实时推荐分类，彻底解决收藏夹混乱问题！

---

## ✨ 核心功能

-   🚀 **三重分类模式**:
    -   **批量分类**: 在个人空间页面，通过一个清晰的 **三步式向导**，引导您完成"选择源"、"选择目标"和"开始任务"的全过程。
    -   **悬浮推荐**: 在视频播放页面右上角，**自动显示AI推荐收藏夹**的悬浮组件，提供 **一键收藏** 功能，无需任何点击操作即可获得智能推荐。
    -   **沉浸式侧边按钮**: 在视频播放页面右侧，提供一个优雅的侧边按钮，**点击后触发AI分析**并展开推荐面板，给予用户完全的控制权，避免自动推荐可能带来的干扰。

-   🎨 **现代化的UI体验**:
    -   **步骤化布局**: 复杂的批量操作被分解为简单的步骤，显著降低了用户的认知成本。
    -   **高效列表选择**: 采用 **穿梭框(Transfer List)** 组件来替代传统的复选框列表，支持 **搜索/过滤** 和 **一键全选**，在管理大量收藏夹时尤为高效。
    -   点击悬浮按钮（FAB）即可在新标签页中打开独立的设置页面，提供宽敞、无干扰的操作环境。
    -   提供实时日志窗口，任务进展一目了然。
    -   **收藏夹预览**: 在选择收藏夹时，支持 **鼠标悬停预览** 收藏夹内容，帮助您在收藏前快速了解目标收藏夹。
    -   **悬浮推荐组件**: 采用 **Aether设计哲学**，支持深色/浅色模式自动适配，具有优雅的滑入/滑出动画效果，提供 **置信度显示** 和 **一键收藏** 功能。
    -   **沉浸式侧边按钮**: 采用 **毛玻璃效果** 和 **流畅动画**，支持多种状态显示（空闲、加载中、成功、错误），提供 **脉冲动画** 和 **波纹效果**，完美适配各种屏幕尺寸和深色模式。

-   🧠 **收藏夹智能诊断**:
    -   一键扫描所有收藏夹下的全部视频。
    -   AI 会自动对视频进行主题聚类，并生成一份包含 **建议创建新分组**、**建议合并收藏夹** 等内容的可交互报告。
    -   您可以根据报告勾选想要采纳的建议，然后一键执行优化，轻松重构您的收藏夹体系。

-   🤖 **强大的AI支持**:
    -   同时支持 **OpenAI** (`gpt-3.5-turbo`, `gpt-4`, `gpt-4o` 等) 和 **智谱AI** (`glm-4`)。
    -   支持自定义API Host，可接入第三方兼容OpenAI的服务。
    -   支持自定义模型名称，灵活适配未来新模型。

-   💡 **智能与便捷**:
-   内置一套精心设计的推荐收藏夹分类，并支持一键批量创建（自动跳过已存在的收藏夹）。
-   高度可配置，所有设置项均保存在本地，安全可靠。

-   🔄 **进程控制与反馈**:
    -   在批量分类过程中，可以随时 **暂停/恢复** 或 **停止** 任务。
    -   任务结束后，会展示一个包含 **数据图表** 和 **可编辑结果列表** 的可视化报告，让您对分类结果一目了然。
    -   **交互式修正**: 您可以直接在结果列表中修改AI的分类建议，然后一键应用所有修正。

-   📊 **数据分析与可视化**:
    -   在独立的“数据分析”标签页中，深入了解您的收藏习惯。
    -   **自动记录**: 每一次通过脚本成功移动的视频都会被自动记录下来。
    -   **周期筛选**: 您可以方便地按“每日”、“每周”、“每月”、“每年”来筛选和查看数据。
    -   **图表展示**: 脚本会通过动态的甜甜圈图，直观地展示在特定时间段内，您收藏的视频在不同收藏夹中的分布情况。
    -   **收藏历史记录**: 新增“收藏历史”标签页，方便您查看和管理所有通过本脚本进行的收藏操作记录。

---

## 🚀 快速安装

### 1. 安装脚本管理器

您需要在浏览器中安装一个用户脚本管理器。推荐使用 **Tampermonkey**。

-   [Tampermonkey 官网](https://www.tampermonkey.net/)
-   [Chrome 应用商店](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
-   [Firefox 附加组件](https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/)

### 2. 安装本脚本

点击下方的链接即可安装最新构建版本：

**[📥 点击安装 - Bilibili 收藏夹 AI 分类助手](https://github.com/atri1011/bilibili-favorites-classifier-userscript/raw/main/dist/bilibili-favorites-classifier-userscript.user.js)**

---

## 📋 使用指南

安装成功后，您会在B站页面的右下角看到一个粉色的 **"AI"** 悬浮按钮。

### 场景一：在个人空间页进行批量分类

1.  **访问页面**: 进入您的B站个人空间收藏夹页面 (例如 `https://space.bilibili.com/你的UID/favlist`)。
2.  **打开设置页面**: 点击右下角的 **"AI"** 悬浮按钮，会在一个新的浏览器标签页中打开分类助手的设置与操作页面。
3.  **配置AI**:
    -   在页面上方的“AI设置”区域，选择AI提供商（OpenAI或智谱AI）。
    -   填入您的 **API Key** 和 **API Host**。
    -   选择或自定义AI模型。
    -   点击 **“保存设置”**。
4.  **步骤一：选择源收藏夹**:
    -   在“批量分类”标签页中，您会看到一个穿梭框选择器。
    -   直接点击左侧“所有收藏夹”列表中的项目，即可将其移动到右侧的“已选源收藏夹”列表中。
    -   *小提示：如果您还没有合适的分类，可以点击 **"一键创建推荐收藏夹"** 来快速建立一套分类体系。该功能会自动检测已存在的收藏夹，只创建不存在的分类。*
    -   选择完毕后，点击 **“下一步”**。
5.  **步骤二：选择目标收藏夹**:
    -   以同样的方式，从左侧列表中选择一个或多个用于存放视频的 **目标收藏夹**。
    -   **强制重新分类**: 在列表上方，有一个复选框。默认情况下，为了效率，目标收藏夹列表会排除您已选定的源收藏夹。但如果您希望对收藏夹进行内部整理（即源和目标是同一个），请勾选此项，此时所有收藏夹都将变为可选。
    -   选择完毕后，点击 **“下一步”**。
6.  **步骤三：开始分类**:
    -   设置 **“每批处理视频数”**（建议值为10-20）。
    -   点击 **“开始分类”** 按钮，脚本将开始工作，您可以在下方的日志窗口查看进度。
    -   在任务进行中，您可以随时点击 **“暂停”** 或 **“停止”** 按钮来控制任务进程。
    -   任务结束后，页面会自动切换到 **结果视图**：
        -   左侧的 **图表** 会直观展示视频在不同收藏夹中的分布情况。
        -   右侧的 **结果列表** 详细列出了每个视频的标题、原始收藏夹和AI推荐的目标收藏夹。
        -   如果AI的推荐不符合您的心意，您可以直接在列表中通过下拉菜单 **修正** 它的分类。
        -   完成所有检查和修正后，点击 **“应用修正”** 按钮，脚本就会在后台根据您的最终决定批量移动视频。


### 场景二：使用沉浸式侧边按钮

1.  **访问页面**: 任意打开一个B站的视频播放页 (例如 `https://www.bilibili.com/video/BV...`)。
2.  **侧边按钮**: 在页面右侧会看到一个优雅的AI分类按钮，采用毛玻璃效果设计。
3.  **触发分析**: 点击按钮后，按钮会显示加载动画，脚本开始分析当前视频内容。
4.  **展开推荐面板**: 分析完成后，按钮会显示成功状态，并自动展开推荐面板。
5.  **一键收藏**:
-   如果接受AI推荐，直接点击 **"接受推荐"** 按钮，视频会自动收藏到推荐的收藏夹。
-   如果拒绝推荐，点击 **"拒绝推荐"** 按钮，可以手动选择其他收藏夹。
-   点击 **"×"** 按钮可以关闭推荐面板。
6.  **按钮状态反馈**: 按钮会根据不同状态显示不同的视觉效果：
-   **空闲状态**: 淡粉色背景，带有微妙的脉冲动画
-   **加载状态**: 旋转的加载动画，表示正在分析
-   **成功状态**: 明亮的绿色，表示分析完成
-   **错误状态**: 红色警告，表示分析失败

### 场景三：使用智能诊断重构收藏夹
    
    1.  **访问页面**: 同样地，在您的B站个人空间收藏夹页面，点击右下角的 **"AI"** 悬浮按钮打开操作页面。
    2.  **切换标签页**: 在页面顶部，点击切换到 **"智能诊断"** 标签页。
    3.  **开始诊断**: 点击 **"开始诊断"** 按钮。脚本会开始在后台扫描您的所有视频，并通过进度条实时显示进度。这个过程可能会花费一些时间，具体取决于您收藏的视频数量。
    4.  **审查报告**: 诊断完成后，页面上会生成一份详细的报告，其中包含了AI建议创建的新分组。
    5.  **执行优化**:
        -   您可以仔细查看每个建议分组，并取消勾选那些您不希望创建的。
        -   确认无误后，点击 **"一键执行优化"** 按钮，脚本就会自动为您创建选定的新收藏夹。
    
    ---
    
    ## 🛠️ 开发指南
    
    本项目已采用现代化前端工作流，使用 Vite 和 Vue.js 进行开发和构建。

### 1. 环境准备

-   [Node.js](https://nodejs.org/) (建议使用 LTS 版本)
-   [pnpm](https://pnpm.io/installation) (可选，推荐使用)

### 2. 安装依赖

克隆项目到本地，然后在项目根目录下运行：

```bash
npm install
# 或者使用 pnpm
# pnpm install
```

### 3. 开发模式

运行以下命令启动 Vite 开发服务器：

```bash
npm run dev
```

Vite 会在 `dist` 目录下生成一个开发版本的油猴脚本 (`bilibili-favorites-classifier-userscript.dev.user.js`)。您只需在 Tampermonkey 中安装一次此脚本，之后 Vite 的热更新 (HMR) 会在您修改代码时自动刷新页面，无需手动重装脚本。

### 4. 构建脚本

当您完成开发后，运行以下命令来打包最终的生产版本脚本：

```bash
npm run build
```

构建好的单文件脚本会输出到 `dist/bilibili-favorites-classifier-userscript.user.js`，这个文件就是可以发布和分享给他人安装的版本。

### 5. 运行测试

本项目使用 Jest 进行单元测试。运行以下命令来执行所有测试用例：

```bash
npm test
```

---

## ⚙️ 项目结构

-   **`src/`**: 存放所有源代码。
    -   **`components/`**: 存放所有可复用的Vue组件。
        -   `MainLayout.vue`: 主布局组件，包含 header 和 footer。
        -   `TabNavigation.vue`: 标签页导航组件。
        -   `LogPanel.vue`: 日志面板组件。
        -   `SettingsView.vue`: AI设置视图。
        -   `ClassifyView.vue`: 批量分类视图。
        -   `DiagnoseView.vue`: 智能诊断视图。
        -   `ResultsView.vue`: 分类结果视图。
        -   `TransferList.vue`: 用于选择收藏夹的穿梭框组件。
        -   `FloatingRecommendation.vue`: 悬浮推荐组件，提供实时AI推荐收藏夹功能。
        -   `SideButton.vue`: 沉浸式侧边按钮组件，支持多种状态显示和流畅动画效果。
    -   **`App.vue`**: 应用的根组件，使用组合式API，负责协调各个子视图。
    -   **`main.js`**: 主入口文件，负责初始化Vue应用并将其挂载到页面上。
    -   **`stores/`**: Pinia状态管理模块。
        -   `settingsStore.js`: 管理设置相关的状态。
        -   `classificationStore.js`: 管理分类相关的状态。
        -   `diagnosisStore.js`: 管理诊断相关的状态。
        -   `uiStore.js`: 管理UI相关的状态。
        -   `floatingRecommendationStore.js`: 管理悬浮推荐相关的状态。
        -   `index.js`: 导出所有store模块。
    -   **`services/`**: 业务逻辑服务层。
        -   `SettingsService.js`: 处理设置相关的业务逻辑。
        -   `ClassificationService.js`: 处理分类相关的业务逻辑。
        -   `DiagnosisService.js`: 处理诊断相关的业务逻辑。
        -   `AnalyticsService.js`: 处理分析数据相关的业务逻辑。
        -   `FolderService.js`: 处理收藏夹相关的业务逻辑。
        -   `index.js`: 导出所有服务类。
    -   **`utils/`**: 工具函数和通信机制。
        -   `eventBus.js`: 事件总线，用于非父子组件通信。
        -   `provideInject.js`: Provide/Inject机制，用于跨组件共享服务和状态。
        -   `gmAdapter.js`: GM_API适配器，提供跨平台的存储API适配。
    -   **`ui.js`**: UI管理器，负责注入Vue应用和处理非Vue的UI元素。
    -   **`api.js`**: 封装了所有与B站API的交互。
    -   **`ai.js`**: 负责与AI服务进行通信。
    -   **`batch-creator.js`**: 实现"一键创建推荐收藏夹"的功能。
    -   **`constants.js`**: 存放如"推荐收藏夹列表"之类的静态数据。
    -   **`style.css`**: 包含全局的CSS样式。
-   **`dist/`**: 存放构建生成的脚本文件。
-   **`vite.config.js`**: Vite 的配置文件。
-   **`package.json`**: 项目依赖和脚本命令。
-   **`optimization_summary.md`**: 优化总结文档，详细记录了性能和安全优化的内容和方法。
-   **`test_optimizations.js`**: 优化测试文件，用于验证优化效果的单元测试。
-   **`test_runner.html`**: 集成测试页面，可以在浏览器中直接运行测试。

---

## 📝 更新日志

### v3.2.0 - 性能与安全优化
- ✅ **数据获取优化**: 优化了数据获取时机，确保 `videoData` 和 `targetFolders` 在需要时完整获取，避免重复请求，提高性能。
- ✅ **CSRF Token 安全增强**: 统一了 CSRF Token 的获取和验证方式，提高了安全性和可靠性，支持多种获取方式（cookie、meta 标签等）。
- ✅ **数据完整性验证**: 添加了数据完整性检查机制，确保在数据完整时才进行处理，提高系统稳定性。
- ✅ **代码模块化改进**: 进一步优化了代码结构，提高了可维护性和可扩展性。
- ✅ **测试框架完善**: 添加了完整的测试文件，包括单元测试和集成测试，确保代码质量。

### v3.1.0 - 沉浸式侧边按钮功能
- ✅ **新增沉浸式侧边按钮**: 在视频播放页面右侧添加优雅的侧边按钮，采用毛玻璃效果设计，支持多种状态显示（空闲、加载中、成功、错误）。
- ✅ **手动触发模式**: 用户可以完全控制何时进行AI分类，点击按钮后触发分析并展开推荐面板，避免自动推荐可能带来的干扰。
- ✅ **流畅动画效果**: 按钮具有脉冲动画和波纹效果，提供丰富的视觉反馈，增强用户体验。
- ✅ **响应式设计**: 完美适配各种屏幕尺寸和深色模式，包括B站的深色主题。
- ✅ **模式选择**: 在设置页面新增自动/手动模式选择，用户可以根据个人偏好选择推荐方式。

### v3.0.0 - 悬浮推荐功能与架构优化
- ✅ **新增悬浮推荐功能**: 在视频播放页面右上角自动显示AI推荐收藏夹的悬浮组件，提供一键收藏功能，无需任何点击操作即可获得智能推荐。
- ✅ **Aether设计哲学**: 悬浮推荐组件采用Aether设计哲学，支持深色/浅色模式自动适配，具有优雅的滑入/滑出动画效果。
- ✅ **实时视频检测**: 自动检测当前视频页面的视频信息，监听URL变化，支持单页应用的视频切换，避免重复处理同一个视频。
- ✅ **智能推荐系统**: 基于视频标题、描述和UP主信息进行AI分类，提供推荐置信度显示，处理"无合适收藏夹"的情况。
- ✅ **新增状态管理**: 添加了专门的 floatingRecommendationStore，管理悬浮推荐相关的状态、加载状态、错误信息和用户操作回调。


### v2.9.0 - 架构全面重构
- ✅ **状态管理升级**: 使用 Pinia 替代了简单的 store.js 对象，创建了四个专门的 store 模块（settingsStore、classificationStore、diagnosisStore、uiStore），使状态管理更加规范和可维护。
- ✅ **服务层架构**: 创建了五个专门的服务类（SettingsService、ClassificationService、DiagnosisService、AnalyticsService、FolderService），将业务逻辑从组件中分离出来，实现了更好的关注点分离。
- ✅ **UI组件拆分**: 将 App.vue 中的UI部分拆分为三个专门的组件（MainLayout、TabNavigation、LogPanel），使组件结构更加清晰。
- ✅ **组件通信机制**: 实现了多种通信机制，包括 Pinia 状态管理、Props 和 Events、事件总线（EventBus）和 Provide/Inject，使组件之间的通信更加灵活。
- ✅ **代码量显著减少**: App.vue 文件从 784 行减少到 295 行，减少了约 62% 的代码量。
- ✅ **开发效率提升**: 模块化的结构使开发更加高效，代码结构更加清晰，易于维护和扩展。
- ✅ **文档完善**: 创建了详细的重构文档，帮助开发者更好地理解和使用新的架构。

### v2.8.0 - 一键创建收藏夹优化
- ✅ **收藏夹存在性检测**: 优化了"一键创建推荐收藏夹"功能，现在在创建前会先检查用户已存在的收藏夹列表，自动跳过已存在的收藏夹，避免重复创建失败。
- ✅ **智能提示优化**: 改进了创建过程中的提示信息，明确显示已跳过的收藏夹数量和实际需要创建的收藏夹数量，提升用户体验。
- ✅ **错误处理增强**: 增强了获取收藏夹列表失败时的错误处理，提供更友好的错误提示。

### v2.7.0 - App 组件化重构
- ✅ **组件拆分**: 将庞大的 `App.vue` 组件按照职责拆分为四个独立的子组件 (`SettingsView`, `ClassifyView`, `DiagnoseView`, `ResultsView`)，显著提升了代码的可读性和可维护性。
- ✅ **清晰数据流**: 重构了父子组件的通信方式，统一使用 `props` 向下传递数据，通过 `emits` 向上通知状态变更，使数据流更加清晰可控。
- ✅ **单一职责原则**: 每个组件现在都遵循单一职责原则，`App.vue` 作为容器负责核心逻辑，而视图组件则专注于UI展示和用户交互。

### v2.6.0 - UI/UX 重构与交互优化
- ✅ **引入步骤式布局**: 将“批量分类”页面重构为清晰的三个步骤，显著降低了用户的认知成本。
- ✅ **新增穿梭框组件**: 使用了全新的穿梭框（Transfer List）组件来替代原有的长列表，支持搜索过滤和一键全选，极大地提升了在大量收藏夹中进行选择的效率。
- ✅ **简化交互**: 根据用户反馈，将穿梭框的交互模式简化为直接点击即可移动项目，移除了中间的确认按钮，使操作更快捷。
- ✅ **修复逻辑缺陷**: 修正了“强制重新分类”功能与新选择器之间的逻辑冲突，确保在勾选该项后，源收藏夹可以被选为目标。
- ✅ **优化布局**: 根据用户反馈，将“一键创建推荐收藏夹”按钮调整至更合理的第一步。

### v2.5.0 - 实时分类功能移除与流程优化
- ✅ **移除实时分类功能**: 移除了视频播放页的实时分类功能，专注于悬浮推荐和批量分类。
- ✅ **优化收藏体验**: 简化了收藏流程，用户现在可以通过悬浮推荐组件直接进行一键收藏。

### v2.4.0 - 新增强制重新分类功能
- ✅ **新增强制重新分类选项**: 在批量分类界面，增加了一个“强制重新分类”的复选框。勾选后，脚本将对所有选中的视频进行AI分析，即使它们已经存在于目标收藏夹中，从而实现对收藏夹的彻底重构。

### v2.3.0 - 性能优化与智能诊断
- ✅ **处理效率革命**: 重构了批量分类的核心逻辑，从“逐个请求AI”升级为“**批量请求AI**”。现在脚本会根据设定的批次大小，将多个视频信息打包成单次请求发送给AI，极大地提升了处理速度并降低了API请求频率。
- ✅ **新增智能诊断功能**: 在UI中增加了全新的“智能诊断”标签页。
- ✅ **全局扫描与分析**: 实现了扫描用户所有收藏夹下的所有视频，并分块发送给AI进行主题聚类分析的功能。
- ✅ **交互式诊断报告**: 分析完成后，会在前端生成一份可交互的报告，展示AI建议创建的新分组。
- ✅ **一键优化**: 用户可以根据报告内容勾选建议，并一键执行创建收藏夹等优化操作。

### v2.2.0 - 结果可视化与交互式修正
- ✅ **可视化结果报告**: 任务结束后，不再是简单的弹窗，而是展示一个包含数据图表（甜甜圈图）和详细结果列表的全新视图。
- ✅ **交互式修正**: 在结果列表中，用户可以方便地通过下拉菜单修改AI的分类建议。
- ✅ **一键应用修正**: 用户在审查和修正完毕后，可以点击一个按钮，让脚本根据最终的分类结果批量移动视频。

### v2.1.0 - 稳定性与体验增强
- ✅ **任务持久化**: 批量分类任务的状态会被自动保存。即使用户关闭页面，下次打开时也可以从断点处继续，避免因意外中断导致前功尽弃。
- ✅ **自动重试机制**: 针对B站和AI服务的API请求都加入了自动重试功能。当遇到网络波动或API临时限流时，脚本会进行多次尝试，显著提高了任务的成功率和稳定性。

### v2.0.0 - UI框架重构 (Vue.js)
- ✅ **引入Vue.js**: 项目UI层完全由Vue.js驱动，告别了手动的DOM操作，转向了现代化的、声明式的UI开发模式。
- ✅ **组件化**: 将原有的 `panel.html` 和 `ui.js` 的逻辑重构为一个单一的 `App.vue` 组件，实现了视图、逻辑和样式的高度内聚。
- ✅ **响应式状态管理**: 利用Vue的响应式系统来管理UI状态，代码更简洁，数据流更清晰。
- ✅ **构建流程升级**: 更新了Vite配置，通过 `@vitejs/plugin-vue` 插件无缝支持Vue单文件组件的编译和打包。
- ✅ **代码结构优化**: 简化了 `main.js` 和 `ui.js` 的职责，使其专注于应用初始化和挂载，进一步提升了项目的模块化程度和可维护性。

### v1.6.0 - 收藏体验优化
- ✅ **首次使用引导**: 当用户在视频页首次触发收藏但未配置API Key时，弹窗会友好地提示用户前往个人空间进行设置。
- ✅ **增加“仅收藏”选项**: 在收藏弹窗中，新增了“仅收藏”按钮，允许用户选择只执行B站原生的收藏操作，而不进行移动，给予用户更大的灵活性。
- ✅ **明确收藏流程**: 优化了弹窗文案，清晰地告知用户视频会先被收藏到默认收藏夹，然后再移动到目标收藏夹，提升了操作的透明度。

### v1.5.0 - 任务控制与体验优化
- ✅ **任务控制**: 在批量分类时，新增 **暂停/恢复** 和 **停止** 功能，给予用户完全的控制权。
- ✅ **任务摘要**: 任务结束后，弹出摘要窗口，清晰反馈处理结果（成功、失败、跳过）。
- ✅ **异步流程改进**: 重构了任务处理逻辑，采用 `async/await` 优化异步流程，增强了代码的稳定性和可读性。
- ✅ **UI/UX 优化**: 调整了操作按钮的布局和样式，使交互更直观。

### v1.4.0 - 现代化重构
- ✅ **构建工具**: 引入 Vite 作为开发和构建工具，提供热更新开发体验。
- ✅ **代码重构**: 项目完全模块化，使用 ES6 `import/export` 语法。
- ✅ **关注点分离**: 将硬编码在 JS 中的 HTML 和 CSS 分离到独立的 `.html` 和 `.css` 文件中。
- ✅ **开发流程**: 添加了详细的开发指南，简化了本地开发和贡献的流程。
- ✅ **构建修复**: 解决了构建过程中因插件兼容性导致的问题。

### v1.3.1 - 模块化初步尝试
- ✅ **代码重构**: 将单文件脚本重构为模块化结构，代码拆分到 `src/` 目录下，提高了可维护性。
- ✅ **文档更新**: 更新了 `README.md` 以反映新的项目结构。

### v1.3.0 - 功能增强
- ✅ **AI支持**: 新增对 **智谱AI (GLM-4)** 的支持。
- ✅ **API适配**: 更新了Bilibili相关API的调用方式，以适应B站最新接口。
- ✅ **UI改进**: 增加了“一键创建推荐收藏夹”功能，并优化了设置面板。